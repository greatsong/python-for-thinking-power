{
  "id": "lv5-11-dp-lis",
  "title": "ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ìˆ˜ì—´ (LIS)",
  "difficulty": 5,
  "category": "dp",
  "description": "## ğŸ“ˆ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ê³ ë¥´ë©´? (LIS)\n\nìˆ˜ì—´ì—ì„œ **ìˆœì„œë¥¼ ìœ ì§€í•˜ë©´ì„œ** ê³¨ëì„ ë•Œ ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´(LIS)ì˜ ê¸¸ì´!\n\n```\nìˆ˜ì—´: [10, 9, 2, 5, 3, 7, 101, 18]\n\nê°€ëŠ¥í•œ ì¦ê°€ ë¶€ë¶„ìˆ˜ì—´:\n[2, 5, 7, 101] â†’ ê¸¸ì´ 4\n[2, 3, 7, 101] â†’ ê¸¸ì´ 4\n[2, 5, 7, 18]  â†’ ê¸¸ì´ 4\n\nLIS ê¸¸ì´ = 4\n```\n\n### DP ì ‘ê·¼\n`dp[i]` = ië²ˆì§¸ ì›ì†Œë¥¼ ë§ˆì§€ë§‰ìœ¼ë¡œ í•˜ëŠ” LISì˜ ìµœëŒ€ ê¸¸ì´\n\n```\n[10, 9, 2, 5, 3, 7, 101, 18]\ndp = [1,  1, 1, 2, 2, 3,  4,  4]\n```\n\n---\n\n## ë¬¸ì œ\n\nnê°œì˜ ì •ìˆ˜ ìˆ˜ì—´ì—ì„œ LISì˜ ê¸¸ì´ë¥¼ ì¶œë ¥í•˜ì„¸ìš”.\n\n### ì˜ˆì‹œ\n```\nì…ë ¥:\n8\n10 9 2 5 3 7 101 18\nì¶œë ¥: 4\n```",
  "starter_code": "n = int(input())\narr = list(map(int, input().split()))\n\n# LIS ê¸¸ì´ë¥¼ ì¶œë ¥í•˜ì„¸ìš”\n",
  "test_cases": [
    { "input": "8\n10 9 2 5 3 7 101 18", "expected_output": "4", "description": "ê¸°ë³¸ LIS" },
    { "input": "5\n1 2 3 4 5", "expected_output": "5", "description": "ì´ë¯¸ ì˜¤ë¦„ì°¨ìˆœ" },
    { "input": "4\n5 4 3 2", "expected_output": "1", "description": "ë‚´ë¦¼ì°¨ìˆœ" },
    { "input": "6\n3 1 4 1 5 9", "expected_output": "4", "description": "íŒŒì´ ìˆ˜ì—´" }
  ],
  "hints": [
    "dp = [1] * n (ê° ì›ì†Œ ìì‹ ë§Œìœ¼ë¡œ ê¸¸ì´ 1)",
    "for i in range(n): for j in range(i): if arr[j]<arr[i]: dp[i]=max(dp[i], dp[j]+1)",
    "answer = max(dp)"
  ],
  "expected_approaches": [
    { "tag": "O(nÂ²) DP", "description": "dp[i] = i ì´ì „ ì›ì†Œ ì¤‘ arr[j]<arr[i]ì¸ dp[j]+1ì˜ ìµœëŒ€ê°’" },
    { "tag": "O(n log n) ì´ì§„ íƒìƒ‰", "description": "tails ë°°ì—´ ìœ ì§€, bisect_leftë¡œ ì‚½ì… ìœ„ì¹˜ íƒìƒ‰" }
  ],
  "explanation": "## í’€ì´ í•´ì„¤\n\n```mermaid\nflowchart TD\n    A[\"dp = [1] * n ì´ˆê¸°í™”\"] --> B[\"i = 0~n-1 ìˆœíšŒ\"]\n    B --> C[\"j = 0~i-1 ìˆœíšŒ\"]\n    C --> D{\"arr[j] < arr[i]?\"}\n    D -->|\"ì´ì „ ê°’ì´ ë” ì‘ë‹¤\"| E[\"dp[i] = max(dp[i], dp[j]+1)\\n(jì˜ LISì— ië¥¼ ì¶”ê°€)\"]\n    D -->|\"ì•„ë‹ˆì˜¤\"| F[\"ê±´ë„ˆëœ€\"]\n    E --> G{\"j ìˆœíšŒ ì™„ë£Œ?\"}\n    F --> G\n    G -->|\"ì•„ë‹ˆì˜¤\"| C\n    G -->|\"ì˜ˆ\"| H{\"i ìˆœíšŒ ì™„ë£Œ?\"}\n    H -->|\"ì•„ë‹ˆì˜¤\"| B\n    H -->|\"ì˜ˆ\"| I[\"max(dp) = LIS ê¸¸ì´\"]\n```\n\n### ë°©ë²• 1: O(nÂ²) DP\n```python\nn = int(input())\narr = list(map(int, input().split()))\n\ndp = [1] * n\nfor i in range(n):\n    for j in range(i):\n        if arr[j] < arr[i]:  # jê°€ iì˜ ì´ì „ì´ê³  ë” ì‘ìœ¼ë©´\n            dp[i] = max(dp[i], dp[j] + 1)\n\nprint(max(dp))\n```\n\n### ë°©ë²• 2: O(n log n) ì´ì§„ íƒìƒ‰\n```python\nfrom bisect import bisect_left\n\nn = int(input())\narr = list(map(int, input().split()))\n\ntails = []  # LIS í›„ë³´ì˜ ë§ˆì§€ë§‰ ì›ì†Œë“¤\nfor x in arr:\n    pos = bisect_left(tails, x)\n    if pos == len(tails):\n        tails.append(x)\n    else:\n        tails[pos] = x  # ë” ì‘ì€ ê°’ìœ¼ë¡œ êµì²´!\n\nprint(len(tails))\n```\n\n**O(n log n) ì•„ì´ë””ì–´**:\n\n`tails[i]` = ê¸¸ì´ i+1ì¸ ì¦ê°€ ë¶€ë¶„ìˆ˜ì—´ì˜ ë§ˆì§€ë§‰ ì›ì†Œ ì¤‘ **ìµœì†Ÿê°’**\n\nì´ ë°°ì—´ì€ í•­ìƒ ì •ë ¬ëœ ìƒíƒœ â†’ ì´ì§„ íƒìƒ‰ ì‚¬ìš©!\n\nì˜ˆì‹œ: `[3, 1, 4, 1, 5, 9]`\n```\n3 â†’ tails: [3]\n1 â†’ tails: [1]  (3â†’1ë¡œ êµì²´, ë” ì‘ì•„ì„œ ë¯¸ë˜ê°€ ìœ ë¦¬)\n4 â†’ tails: [1, 4]\n1 â†’ tails: [1, 4]  (ì´ë¯¸ ìˆìŒ)\n5 â†’ tails: [1, 4, 5]\n9 â†’ tails: [1, 4, 5, 9]\nâ†’ LIS ê¸¸ì´ = 4\n```"
}
