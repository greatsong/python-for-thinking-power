{
  "id": "lv5-08-kmp",
  "title": "ë¬¸ìì—´ íŒ¨í„´ ë§¤ì¹­ (KMP)",
  "difficulty": 5,
  "category": "string",
  "description": "## ğŸ” íš¨ìœ¨ì ì¸ ë¬¸ìì—´ ê²€ìƒ‰! (KMP)\n\nê¸´ í…ìŠ¤íŠ¸ì—ì„œ íŒ¨í„´ ë¬¸ìì—´ì´ ë“±ì¥í•˜ëŠ” **ëª¨ë“  ìœ„ì¹˜**ë¥¼ ì°¾ì•„ìš”.\n\n```\ntext = \"AABAACAADAABAABA\"\npattern = \"AABA\"\n\në“±ì¥ ìœ„ì¹˜: 0, 9, 12 (0-indexed)\n```\n\n### ì™œ KMPì¸ê°€?\në‹¨ìˆœ ë¹„êµ: ë¶ˆì¼ì¹˜ ì‹œ í•œ ì¹¸ ì´ë™ â†’ O(nÃ—m)\nKMP: ë¶ˆì¼ì¹˜ ì‹œ ìµœëŒ€í•œ ë©€ë¦¬ ì´ë™ â†’ O(n+m)!\n\n### LPS (Longest Proper Prefix which is also Suffix)\níŒ¨í„´ì—ì„œ ì ‘ë‘ì‚¬ = ì ‘ë¯¸ì‚¬ì¸ ìµœì¥ ê¸¸ì´ë¥¼ ë¯¸ë¦¬ ê³„ì‚°\n\n```\npattern = \"AABA\"\nlps = [0, 1, 0, 1]\n\n\"A\" â†’ 0 (ì ‘ë‘ì‚¬=ì ‘ë¯¸ì‚¬ ì—†ìŒ)\n\"AA\" â†’ 1 (\"A\"=\"A\")\n\"AAB\" â†’ 0\n\"AABA\" â†’ 1 (\"A\"=\"A\")\n```\n\n---\n\n## ë¬¸ì œ\n\ntextSì™€ patternì„ ì…ë ¥ë°›ì•„ íŒ¨í„´ì´ ë“±ì¥í•˜ëŠ” 0-indexed ìœ„ì¹˜ë¥¼ ëª¨ë‘ ì¶œë ¥í•˜ì„¸ìš”. (ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ ì¶œë ¥ ì•ˆ í•¨)\n\n### ì˜ˆì‹œ\n```\nì…ë ¥:\nAAABAACAAD\nAAA\nì¶œë ¥: 0 1\n```",
  "starter_code": "text = input()\npattern = input()\n\n# KMPë¡œ íŒ¨í„´ ë“±ì¥ ìœ„ì¹˜ë¥¼ ëª¨ë‘ ì¶œë ¥í•˜ì„¸ìš”\n",
  "test_cases": [
    { "input": "AAABAACAAD\nAAA", "expected_output": "0 1", "description": "ì¤‘ë³µ íŒ¨í„´" },
    { "input": "HELLO WORLD\nWORLD", "expected_output": "6", "description": "ë‹¨ìˆœ ê²€ìƒ‰" },
    { "input": "ABCDEF\nXYZ", "expected_output": "", "description": "íŒ¨í„´ ì—†ìŒ" }
  ],
  "hints": [
    "lps ë°°ì—´ ê³„ì‚°: íŒ¨í„´ì˜ ì ‘ë‘ì‚¬=ì ‘ë¯¸ì‚¬ ìµœì¥ ê¸¸ì´",
    "def compute_lps(pattern): lps=[0]*len(pattern); length=0; i=1",
    "KMP ê²€ìƒ‰: i(text), j(pattern) í¬ì¸í„°ë¡œ ì§„í–‰",
    "j==len(pattern) ë˜ë©´ ë°œê²¬! text ìœ„ì¹˜ëŠ” i-j"
  ],
  "expected_approaches": [
    { "tag": "KMP ì•Œê³ ë¦¬ì¦˜", "description": "lps ë°°ì—´ë¡œ ë¶ˆì¼ì¹˜ ì‹œ ê±´ë„ˆë›¸ ìœ„ì¹˜ ê³„ì‚°, O(n+m)" }
  ],
  "explanation": "## í’€ì´ í•´ì„¤\n\n### KMP ì•Œê³ ë¦¬ì¦˜ íë¦„ë„\n\n```mermaid\nflowchart TD\n    A[\"1. íŒ¨í„´ì—ì„œ LPS ë°°ì—´ ê³„ì‚°\"] --> B[\"2. í…ìŠ¤íŠ¸ì™€ íŒ¨í„´ ë¹„êµ ì‹œì‘\\n i=0, j=0\"]\n    B --> C{\"text[i] == pattern[j]?\"}\n    C -->|\"ì¼ì¹˜\"| D[\"i++, j++\"]\n    D --> E{\"j == íŒ¨í„´ ê¸¸ì´?\"}\n    E -->|\"Yes\"| F[\"íŒ¨í„´ ë°œê²¬!\\nìœ„ì¹˜ = i - j ê¸°ë¡\"]\n    F --> G[\"j = lps[j-1]\\në‹¤ìŒ ë§¤ì¹­ ì¤€ë¹„\"]\n    G --> C\n    E -->|\"No\"| C\n    C -->|\"ë¶ˆì¼ì¹˜\"| H{\"j != 0?\"}\n    H -->|\"Yes\"| I[\"j = lps[j-1]\\nê±´ë„ˆë›°ê¸°!\"]\n    I --> C\n    H -->|\"No\"| J[\"i++\"]\n    J --> C\n    style F fill:#90EE90\n    style I fill:#FFD700\n```\n\n- **ì´ˆë¡ ë°•ìŠ¤**: íŒ¨í„´ ë°œê²¬ ì‹œì \n- **ë…¸ë€ ë°•ìŠ¤**: KMPì˜ í•µì‹¬ â€” LPSë¥¼ ì´ìš©í•œ ê±´ë„ˆë›°ê¸°\n- ë¶ˆì¼ì¹˜ ì‹œ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë¹„êµí•˜ì§€ ì•Šê³ , ì´ë¯¸ ì¼ì¹˜í•œ ë¶€ë¶„ì„ í™œìš©!\n\n```python\ndef compute_lps(pattern):\n    m = len(pattern)\n    lps = [0] * m\n    length = 0  # ì´ì „ LPS ê¸¸ì´\n    i = 1\n    while i < m:\n        if pattern[i] == pattern[length]:\n            length += 1\n            lps[i] = length\n            i += 1\n        else:\n            if length != 0:\n                length = lps[length - 1]  # ë°±íŠ¸ë˜í‚¹!\n            else:\n                lps[i] = 0\n                i += 1\n    return lps\n\ndef kmp_search(text, pattern):\n    n, m = len(text), len(pattern)\n    lps = compute_lps(pattern)\n    \n    results = []\n    i = j = 0  # text, pattern í¬ì¸í„°\n    while i < n:\n        if text[i] == pattern[j]:\n            i += 1; j += 1\n        if j == m:\n            results.append(i - j)  # ë°œê²¬!\n            j = lps[j - 1]  # ë‹¤ìŒ ê²€ìƒ‰ ìœ„ì¹˜\n        elif i < n and text[i] != pattern[j]:\n            if j != 0:\n                j = lps[j - 1]  # ê±´ë„ˆëœ€!\n            else:\n                i += 1\n    return results\n\ntext = input()\npattern = input()\nresults = kmp_search(text, pattern)\nif results:\n    print(*results)\n```\n\n**KMPì˜ í•µì‹¬ ì•„ì´ë””ì–´**:\n\në¶ˆì¼ì¹˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë¹„êµí•˜ì§€ ì•Šì•„ìš”!\nì´ë¯¸ ì¼ì¹˜í•œ ì ‘ë‘ì‚¬ê°€ ì ‘ë¯¸ì‚¬ì´ê¸°ë„ í•˜ë©´, ê·¸ë§Œí¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆì–´ìš”.\n\nì˜ˆ: `AABAABAAB` ì—ì„œ `AABAA` ê¹Œì§€ ì¼ì¹˜ í›„ ë¶ˆì¼ì¹˜\nâ†’ lps[4]=2ì´ë¯€ë¡œ íŒ¨í„´ 2ë²ˆì§¸ë¶€í„° ë‹¤ì‹œ ë¹„êµ\n\n**Python ë‚´ì¥ ë°©ë²•**: `text.find(pattern)`, `text.count(pattern)` ë“±ë„ ìˆì§€ë§Œ KMPì˜ ì›ë¦¬ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”!"
}
