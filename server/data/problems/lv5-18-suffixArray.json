{
  "id": "lv5-18-suffixArray",
  "title": "ì ‘ë¯¸ì‚¬ ë°°ì—´ë¡œ ë¬¸ìì—´ ê²€ìƒ‰",
  "difficulty": 5,
  "category": "string",
  "description": "## ğŸ“œ ì ‘ë¯¸ì‚¬ ë°°ì—´! (Suffix Array)\n\në¬¸ìì—´ì˜ ëª¨ë“  ì ‘ë¯¸ì‚¬(suffix)ë¥¼ ì‚¬ì „ìˆœ ì •ë ¬í•œ **ì ‘ë¯¸ì‚¬ ë°°ì—´**ì„ êµ¬í•´ìš”.\n\n```\në¬¸ìì—´: \"banana\"\n\nì ‘ë¯¸ì‚¬ë“¤:\n0: banana\n1: anana\n2: nana\n3: ana\n4: na\n5: a\n\nì‚¬ì „ìˆœ ì •ë ¬:\n5: a\n3: ana\n1: anana\n0: banana\n4: na\n2: nana\n\nì ‘ë¯¸ì‚¬ ë°°ì—´ = [5, 3, 1, 0, 4, 2]\n```\n\n### í™œìš©\nì ‘ë¯¸ì‚¬ ë°°ì—´ë¡œ ë¶€ë¶„ ë¬¸ìì—´ì„ O(m log n)ì— ê²€ìƒ‰ ê°€ëŠ¥!\n(m = íŒ¨í„´ ê¸¸ì´)\n\n---\n\n## ë¬¸ì œ\n\në¬¸ìì—´ì„ ì…ë ¥ë°›ì•„ ì ‘ë¯¸ì‚¬ ë°°ì—´ê³¼, ì£¼ì–´ì§„ íŒ¨í„´ì´ ë“±ì¥í•˜ëŠ”ì§€ ì¶œë ¥í•˜ì„¸ìš”.\n\n### ì…ë ¥\n- ì²«ì§¸ ì¤„: ë¬¸ìì—´\n- ë‘˜ì§¸ ì¤„: ê²€ìƒ‰ íŒ¨í„´\n\n### ì˜ˆì‹œ\n```\nì…ë ¥:\nbanana\nana\nì¶œë ¥:\n5 3 1 0 4 2\nYES\n```",
  "starter_code": "s = input()\npattern = input()\n\n# ì ‘ë¯¸ì‚¬ ë°°ì—´ì„ ì¶œë ¥í•˜ê³ , íŒ¨í„´ì´ ì¡´ì¬í•˜ë©´ YES, ì•„ë‹ˆë©´ NO ì¶œë ¥\n",
  "test_cases": [
    { "input": "banana\nana", "expected_output": "5 3 1 0 4 2\nYES", "description": "banana ì ‘ë¯¸ì‚¬ ë°°ì—´" },
    { "input": "abcd\ncd", "expected_output": "0 1 2 3\nYES", "description": "ë‹¨ìˆœ ì¼€ì´ìŠ¤" },
    { "input": "hello\nxyz", "expected_output": "1 0 2 3 4\nNO", "description": "íŒ¨í„´ ì—†ìŒ" }
  ],
  "hints": [
    "suffix_array = sorted(range(len(s)), key=lambda i: s[i:]) ë¡œ ê°„ë‹¨íˆ êµ¬í˜„",
    "ê²€ìƒ‰: ì´ì§„ íƒìƒ‰ ë˜ëŠ” ë‹¨ìˆœíˆ pattern in s ë„ ê°€ëŠ¥",
    "ì ‘ë¯¸ì‚¬ ë°°ì—´ì—ì„œ ì´ì§„ íƒìƒ‰: s[sa[mid]:sa[mid]+len(pattern)] == pattern ë¹„êµ"
  ],
  "expected_approaches": [
    { "tag": "O(n log n) ì •ë ¬", "description": "sorted(range(n), key=lambda i: s[i:])ë¡œ ì ‘ë¯¸ì‚¬ ë°°ì—´ êµ¬ì„±" },
    { "tag": "ì´ì§„ íƒìƒ‰ìœ¼ë¡œ íŒ¨í„´ ê²€ìƒ‰", "description": "ì •ë ¬ëœ ì ‘ë¯¸ì‚¬ ë°°ì—´ì—ì„œ ì´ì§„ íƒìƒ‰" }
  ],
  "explanation": "## í’€ì´ í•´ì„¤\n\n### ì ‘ë¯¸ì‚¬ ë°°ì—´ ì•Œê³ ë¦¬ì¦˜ íë¦„ë„\n\n```mermaid\nflowchart TD\n    A[\"ë¬¸ìì—´ s ì…ë ¥\"] --> B[\"ëª¨ë“  ì ‘ë¯¸ì‚¬ ìƒì„±\\ns[0:], s[1:], ..., s[n-1:]\"]\n    B --> C[\"ì ‘ë¯¸ì‚¬ë“¤ì„ ì‚¬ì „ìˆœ ì •ë ¬\\nsuffix_array = sorted(range(n), key=s[i:])\"]\n    C --> D[\"ì ‘ë¯¸ì‚¬ ë°°ì—´ ì¶œë ¥\"]\n    D --> E[\"íŒ¨í„´ ê²€ìƒ‰ ì‹œì‘\"]\n    E --> F[\"ì´ì§„ íƒìƒ‰\\nlo=0, hi=len(s)\"]\n    F --> G{\"lo < hi?\"}\n    G -->|\"Yes\"| H[\"mid ìœ„ì¹˜ ì ‘ë¯¸ì‚¬ì™€\\níŒ¨í„´ ë¹„êµ\"]\n    H --> I{\"ì¼ì¹˜?\"}\n    I -->|\"ì¼ì¹˜!\"| J[\"YES ì¶œë ¥\"]\n    I -->|\"íŒ¨í„´ì´ ë” í¼\"| K[\"lo = mid + 1\"]\n    I -->|\"íŒ¨í„´ì´ ë” ì‘ìŒ\"| L[\"hi = mid\"]\n    K --> G\n    L --> G\n    G -->|\"No\"| M[\"NO ì¶œë ¥\"]\n    style J fill:#90EE90\n    style C fill:#87CEEB\n    style F fill:#FFD700\n```\n\n- **íŒŒë€ ë°•ìŠ¤**: í•µì‹¬ ì „ì²˜ë¦¬ - ì ‘ë¯¸ì‚¬ ì •ë ¬\n- **ë…¸ë€ ë°•ìŠ¤**: ì´ì§„ íƒìƒ‰ìœ¼ë¡œ O(m log n) ê²€ìƒ‰\n- **ì´ˆë¡ ë°•ìŠ¤**: íŒ¨í„´ ë°œê²¬\n- ì „ì²˜ë¦¬ í›„ ì–´ë–¤ íŒ¨í„´ì´ë“  ë¹ ë¥´ê²Œ ê²€ìƒ‰ ê°€ëŠ¥!\n\n```python\ns = input()\npattern = input()\n\n# ì ‘ë¯¸ì‚¬ ë°°ì—´ êµ¬ì„±\nsuffix_array = sorted(range(len(s)), key=lambda i: s[i:])\n\nprint(*suffix_array)\n\n# íŒ¨í„´ ê²€ìƒ‰ (ê°„ë‹¨ ë²„ì „)\nprint('YES' if pattern in s else 'NO')\n```\n\n### ì™„ì „í•œ ì´ì§„ íƒìƒ‰ ë²„ì „\n```python\nfrom bisect import bisect_left\n\n# ì ‘ë¯¸ì‚¬ ë°°ì—´ì€ ì‚¬ì „ìˆœ ì •ë ¬ë¨!\n# patternì´ ì¡´ì¬í•˜ë©´ ì ‘ë¯¸ì‚¬ ì¤‘ patternìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì´ ìˆìŒ\nlo, hi = 0, len(s)\nfound = False\n\nwhile lo < hi:\n    mid = (lo + hi) // 2\n    idx = suffix_array[mid]\n    sub = s[idx:idx+len(pattern)]\n    if sub == pattern:\n        found = True\n        break\n    elif sub < pattern:\n        lo = mid + 1\n    else:\n        hi = mid\n\nprint('YES' if found else 'NO')\n```\n\n**ì ‘ë¯¸ì‚¬ ë°°ì—´ì˜ í˜**:\n\ní…ìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ ì ‘ë¯¸ì‚¬ ë°°ì—´ë¡œ ì „ì²˜ë¦¬í•´ë‘ë©´\nì´í›„ ì–´ë–¤ íŒ¨í„´ì´ë“  O(m log n)ì— ê²€ìƒ‰ ê°€ëŠ¥!\n\ní…ìŠ¤íŠ¸ê°€ ë§¤ìš° ê¸¸ê³  ì¿¼ë¦¬ê°€ ë§ì„ ë•Œ ê°•ë ¥í•´ìš”.\n(ì˜ˆ: ìœ ì „ì ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰)"
}
