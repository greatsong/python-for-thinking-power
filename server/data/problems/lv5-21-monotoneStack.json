{
  "id": "lv5-21-monotoneStack",
  "title": "íˆìŠ¤í† ê·¸ë¨ ìµœëŒ€ ì§ì‚¬ê°í˜• (ë‹¨ì¡° ìŠ¤íƒ)",
  "difficulty": 5,
  "category": "algorithm",
  "description": "## ğŸ“Š íˆìŠ¤í† ê·¸ë¨ì—ì„œ ìµœëŒ€ ì§ì‚¬ê°í˜•! (ë‹¨ì¡° ìŠ¤íƒ)\n\níˆìŠ¤í† ê·¸ë¨ì˜ ê° ë§‰ëŒ€ ë†’ì´ê°€ ì£¼ì–´ì§ˆ ë•Œ, ë§Œë“¤ ìˆ˜ ìˆëŠ” **ìµœëŒ€ ì§ì‚¬ê°í˜• ë„“ì´**ë¥¼ êµ¬í•´ìš”.\n\n```\në†’ì´: [2, 1, 5, 6, 2, 3]\n\n  #\n  ##\n# ##  #\n# ## ##\n#######\n\nìµœëŒ€ ì§ì‚¬ê°í˜•: ë†’ì´ 5, ë„ˆë¹„ 2 â†’ ë„“ì´ 10\n```\n\n### ë‹¨ì¡° ìŠ¤íƒ ì „ëµ\nìŠ¤íƒì—ëŠ” **ì˜¤ë¦„ì°¨ìˆœ** ë†’ì´ì˜ ì¸ë±ìŠ¤ë¥¼ ìœ ì§€!\n\n- í˜„ì¬ ë§‰ëŒ€ê°€ ìŠ¤íƒ topë³´ë‹¤ ì‘ìœ¼ë©´ â†’ pop!\n- popí•œ ë§‰ëŒ€ê°€ \"ì§€ê¸ˆ ì—¬ê¸°ê¹Œì§€ì˜ ë†’ì´\"ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì§ì‚¬ê°í˜• ê³„ì‚°\n- ì´ë ‡ê²Œ O(n)ìœ¼ë¡œ í•´ê²°!\n\n---\n\n## ë¬¸ì œ\n\nnê°œì˜ ë§‰ëŒ€ ë†’ì´ë¥¼ ì…ë ¥ë°›ì•„ íˆìŠ¤í† ê·¸ë¨ì—ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì§ì‚¬ê°í˜• ë„“ì´ë¥¼ ì¶œë ¥í•˜ì„¸ìš”.\n\n### ì…ë ¥\n- ì²«ì§¸ ì¤„: n\n- ë‘˜ì§¸ ì¤„: ë†’ì´ë“¤\n\n### ì˜ˆì‹œ\n```\nì…ë ¥:\n6\n2 1 5 6 2 3\nì¶œë ¥: 10\n```",
  "starter_code": "n = int(input())\nheights = list(map(int, input().split()))\n\n# ìµœëŒ€ ì§ì‚¬ê°í˜• ë„“ì´ë¥¼ ì¶œë ¥í•˜ì„¸ìš”\n",
  "test_cases": [
    { "input": "6\n2 1 5 6 2 3", "expected_output": "10", "description": "ë†’ì´5Ã—ë„ˆë¹„2=10" },
    { "input": "5\n2 4 4 2 1", "expected_output": "8", "description": "ë†’ì´2Ã—ë„ˆë¹„4=8, ë†’ì´4Ã—ë„ˆë¹„2=8, ìµœëŒ€=8" },
    { "input": "3\n3 3 3", "expected_output": "9", "description": "ì „ì²´ê°€ 3x3" },
    { "input": "1\n5", "expected_output": "5", "description": "ë§‰ëŒ€ 1ê°œ" }
  ],
  "hints": [
    "stack = [] (ì¸ë±ìŠ¤ ì €ì¥), heightsì— 0ì„ í•˜ë‚˜ ì¶”ê°€í•˜ë©´ ëì²˜ë¦¬ í¸í•¨",
    "í˜„ì¬ ë†’ì´ê°€ stack topë³´ë‹¤ ì‘ìœ¼ë©´: popí•˜ê³  ë„“ì´ ê³„ì‚°",
    "ë„ˆë¹„ = í˜„ì¬ ì¸ë±ìŠ¤ - stack[-1] - 1 (ìŠ¤íƒì´ ë¹„ì—ˆìœ¼ë©´ í˜„ì¬ ì¸ë±ìŠ¤)"
  ],
  "expected_approaches": [
    { "tag": "ë‹¨ì¡° ì¦ê°€ ìŠ¤íƒ O(n)", "description": "ìŠ¤íƒì— ì˜¤ë¦„ì°¨ìˆœ ì¸ë±ìŠ¤ ìœ ì§€, pop ì‹œ ì§ì‚¬ê°í˜• ë„“ì´ ê³„ì‚°" },
    { "tag": "ì™„ì „ íƒìƒ‰ O(nÂ²)", "description": "ê° ìŒ (i,j)ì—ì„œ min ë†’ì´ Ã— ë„ˆë¹„" }
  ],
  "explanation": "## í’€ì´ í•´ì„¤\n\n### ë‹¨ì¡° ìŠ¤íƒ íˆìŠ¤í† ê·¸ë¨ íë¦„ë„\n\n```mermaid\nflowchart TD\n    A[\"i = 0 ~ n ìˆœíšŒ\\n(ëì— ë†’ì´ 0 ì¶”ê°€)\"] --> B{\"ìŠ¤íƒ ë¹„ì–´ìˆì§€ ì•Šê³ \\nstack top ë†’ì´ > í˜„ì¬ h?\"}\n    B -->|\"Yes\"| C[\"ìŠ¤íƒì—ì„œ pop\\nheight = heights[popí•œ ì¸ë±ìŠ¤]\"]\n    C --> D{\"ìŠ¤íƒ ë¹„ì–´ìˆìŒ?\"}\n    D -->|\"Yes\"| E[\"width = i\\n(ì²˜ìŒë¶€í„° í˜„ì¬ê¹Œì§€)\"]\n    D -->|\"No\"| F[\"width = i - stack[-1] - 1\"]\n    E --> G[\"area = height x width\"]\n    F --> G\n    G --> H[\"max_area ê°±ì‹ \"]\n    H --> B\n    B -->|\"No\"| I[\"ìŠ¤íƒì— i ì¶”ê°€\\n(ì˜¤ë¦„ì°¨ìˆœ ìœ ì§€)\"]\n    I --> J{\"ë‹¤ìŒ i\"}\n    J --> A\n    style C fill:#FF6B6B\n    style H fill:#90EE90\n    style I fill:#87CEEB\n```\n\n- **íŒŒë€ ë°•ìŠ¤**: ì˜¤ë¦„ì°¨ìˆœ ìœ ì§€í•˜ë©° ìŠ¤íƒì— ì¶”ê°€\n- **ë¹¨ê°„ ë°•ìŠ¤**: í˜„ì¬ë³´ë‹¤ ë†’ì€ ë§‰ëŒ€ë¥¼ pop (ë” ì´ìƒ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í™•ì¥ ë¶ˆê°€)\n- **ì´ˆë¡ ë°•ìŠ¤**: popí•  ë•Œë§ˆë‹¤ ë„“ì´ ê³„ì‚°í•˜ê³  ìµœëŒ€ê°’ ê°±ì‹ \n- ëì— ë†’ì´ 0(sentinel)ì„ ì¶”ê°€í•˜ë©´ ë‚¨ì€ ìŠ¤íƒì„ ìë™ìœ¼ë¡œ ì •ë¦¬!\n\n```python\nn = int(input())\nheights = list(map(int, input().split()))\nheights.append(0)  # ëì²˜ë¦¬ìš© sentinel\n\nstack = []\nmax_area = 0\n\nfor i, h in enumerate(heights):\n    while stack and heights[stack[-1]] > h:\n        height = heights[stack.pop()]  # popí•œ ë§‰ëŒ€ì˜ ë†’ì´\n        if stack:\n            width = i - stack[-1] - 1  # ë„ˆë¹„ ê³„ì‚°\n        else:\n            width = i  # ìŠ¤íƒì´ ë¹„ì—ˆìœ¼ë©´ ì²˜ìŒë¶€í„°\n        max_area = max(max_area, height * width)\n    stack.append(i)\n\nprint(max_area)\n```\n\n**ë‹¨ì¡° ìŠ¤íƒ ì‹œê°í™”** (heights = [2,1,5,6,2,3]):\n\n```\ni=0, h=2: stack=[0]\ni=1, h=1: h<heights[0]=2!\n  pop 0: height=2, width=1, area=2. max=2\n  stack=[1]\ni=2, h=5: stack=[1,2]\ni=3, h=6: stack=[1,2,3]\ni=4, h=2: h<heights[3]=6!\n  pop 3: height=6, width=1, area=6. max=6\n  h<heights[2]=5!\n  pop 2: height=5, width=2, area=10. max=10 â† ì—¬ê¸°!\n  stack=[1,4]\ni=5, h=3: stack=[1,4,5]\ni=6, h=0: (sentinel)\n  pop 5: height=3, width=1, area=3\n  pop 4: height=2, width=4, area=8\n  pop 1: height=1, width=6, area=6\n```\n\n**í•µì‹¬**: popí•  ë•Œ ê·¸ ë†’ì´ë¥¼ ìœ ì§€í•˜ë©´ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìµœëŒ€ ë„ˆë¹„ë¥¼ ê³„ì‚°!"
}
