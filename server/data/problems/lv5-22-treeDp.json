{
  "id": "lv5-22-treeDp",
  "title": "íŠ¸ë¦¬ ë…ë¦½ ì§‘í•© ìµœëŒ€í™” (íŠ¸ë¦¬ DP)",
  "difficulty": 5,
  "category": "dp",
  "description": "## ğŸŒ² íŠ¸ë¦¬ì—ì„œ ìµœëŒ€ íŒŒí‹°ë¥¼! (íŠ¸ë¦¬ DP)\n\në‚˜ë¬´ êµ¬ì¡°ì˜ ì¡°ì§ì—ì„œ íŒŒí‹°ë¥¼ ì—´ì–´ìš”.\n**ìƒì‚¬ì™€ ë¶€í•˜ê°€ ê°™ì€ íŒŒí‹°ì— ìˆì„ ìˆ˜ ì—†ì–´ìš”!**\nê° ì§ì›ì—ê²ŒëŠ” íŒŒí‹° ì°¸ì—¬ ì ìˆ˜ê°€ ìˆì–´ìš”.\n\n**ìµœëŒ€ íŒŒí‹° ì ìˆ˜ í•©**ì„ êµ¬í•˜ì„¸ìš”!\n\n```\nì¡°ì§ë„:\n      1(3ì )\n     / \\\n  2(2ì ) 3(5ì )\n  |\n  4(1ì )\n\nì„ íƒ ê°€ëŠ¥í•œ ì¡°í•©:\n- 1,4 ì„ íƒ: 3+1=4\n- 2,3 ì„ íƒ: 2+5=7\n- 1 ì„ íƒ: 3\n- 3,2 ì„ íƒ: 7\nâ†’ ìµœëŒ€: 7\n```\n\n### íŠ¸ë¦¬ DP\n`dp[node][0]` = ì´ ë…¸ë“œë¥¼ **ì•ˆ ê³ ë¥¼ ë•Œ** ì„œë¸ŒíŠ¸ë¦¬ ìµœëŒ€\n`dp[node][1]` = ì´ ë…¸ë“œë¥¼ **ê³ ë¥¼ ë•Œ** ì„œë¸ŒíŠ¸ë¦¬ ìµœëŒ€\n\n---\n\n## ë¬¸ì œ\n\nnëª…ì˜ ì§ì› ì ìˆ˜ì™€ ì¡°ì§ë„ë¥¼ ì…ë ¥ë°›ì•„ ìµœëŒ€ íŒŒí‹° ì ìˆ˜ë¥¼ ì¶œë ¥í•˜ì„¸ìš”.\në£¨íŠ¸ëŠ” 1ë²ˆ.\n\n### ì…ë ¥\n- ì²«ì§¸ ì¤„: n\n- ë‘˜ì§¸ ì¤„: ê° ì§ì› ì ìˆ˜\n- ì´í›„ n-1ì¤„: ìƒì‚¬-ë¶€í•˜ ê´€ê³„\n\n### ì˜ˆì‹œ\n```\nì…ë ¥:\n4\n3 2 5 1\n1 2\n1 3\n2 4\nì¶œë ¥: 7\n```",
  "starter_code": "import sys\nsys.setrecursionlimit(10000)\n\nn = int(input())\nvalues = [0] + list(map(int, input().split()))  # 1-indexed\ngraph = [[] for _ in range(n+1)]\nfor _ in range(n-1):\n    a, b = map(int, input().split())\n    graph[a].append(b)\n    graph[b].append(a)\n\n# íŠ¸ë¦¬ DPë¡œ ìµœëŒ€ íŒŒí‹° ì ìˆ˜ë¥¼ ì¶œë ¥í•˜ì„¸ìš”\n",
  "test_cases": [
    { "input": "4\n3 2 5 1\n1 2\n1 3\n2 4", "expected_output": "7", "description": "2+5=7" },
    { "input": "1\n10", "expected_output": "10", "description": "í˜¼ì" },
    { "input": "3\n1 10 10\n1 2\n1 3", "expected_output": "20", "description": "ë¶€í•˜ ë‘˜ ë‹¤ ì„ íƒ" }
  ],
  "hints": [
    "dp = [[0,0] for _ in range(n+1)]",
    "def dfs(node, parent): for child in graph[node]: if child!=parent: dfs(child, node)",
    "dp[node][0] += max(dp[child][0], dp[child][1])  # ì´ ë…¸ë“œ ì•ˆ ê³ ë¦„: ìì‹ì€ ë‘˜ ë‹¤ ê°€ëŠ¥",
    "dp[node][1] += dp[child][0]  # ì´ ë…¸ë“œ ê³ ë¦„: ìì‹ì€ ì•ˆ ê³ ë¦„"
  ],
  "expected_approaches": [
    { "tag": "íŠ¸ë¦¬ DP (DFS)", "description": "dp[node][ì„ íƒì—¬ë¶€]ë¡œ ì„œë¸ŒíŠ¸ë¦¬ ìµœì ê°’ ê³„ì‚°, ë¦¬í”„ë¶€í„° ë£¨íŠ¸ë¡œ" }
  ],
  "explanation": "## í’€ì´ í•´ì„¤\n\n```python\nimport sys\nsys.setrecursionlimit(10000)\n\nn = int(input())\nvalues = [0] + list(map(int, input().split()))\ngraph = [[] for _ in range(n+1)]\nfor _ in range(n-1):\n    a, b = map(int, input().split())\n    graph[a].append(b)\n    graph[b].append(a)\n\ndp = [[0, 0] for _ in range(n+1)]  # [ì•ˆ ê³ ë¥¼ ë•Œ, ê³ ë¥¼ ë•Œ]\n\ndef dfs(node, parent):\n    dp[node][0] = 0           # ì•ˆ ê³ ë¦„\n    dp[node][1] = values[node]  # ê³ ë¦„ â†’ ë‚´ ì ìˆ˜ í¬í•¨\n    \n    for child in graph[node]:\n        if child == parent:\n            continue  # ë¶€ëª¨ ë°©í–¥ì€ ê±´ë„ˆëœ€\n        dfs(child, node)  # ìì‹ ë¨¼ì € ì²˜ë¦¬\n        \n        # ë‚´ê°€ ì•ˆ ê³ ë¥´ë©´: ìì‹ì€ ê³ ë¥´ê±°ë‚˜ ì•ˆ ê³ ë¥´ê±°ë‚˜ (ë” ì¢‹ì€ ê²ƒ)\n        dp[node][0] += max(dp[child][0], dp[child][1])\n        # ë‚´ê°€ ê³ ë¥´ë©´: ìì‹ì€ ë°˜ë“œì‹œ ì•ˆ ê³ ë¦„\n        dp[node][1] += dp[child][0]\n\ndfs(1, 0)\nprint(max(dp[1][0], dp[1][1]))\n```\n\n**ì í™”ì‹**:\n- `dp[v][0] = sum(max(dp[c][0], dp[c][1]))` for all children c\n- `dp[v][1] = values[v] + sum(dp[c][0])` for all children c\n\n**íŠ¸ë¦¬ DPì˜ í•µì‹¬**: ë¦¬í”„(ì ë…¸ë“œ)ì—ì„œ ìœ„ë¡œ!\nìì‹ì˜ ê³„ì‚° ê²°ê³¼ë¥¼ ë¶€ëª¨ê°€ í™œìš©í•´ìš”.\n\n**DFS + DP**: ê·¸ë˜í”„ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ê³¼ ë™ì  í”„ë¡œê·¸ë˜ë°ì˜ ì¡°í•©.\nì´ê²ƒì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì§„ì§œ ì•„ë¦„ë‹¤ì›€ì´ì—ìš”!"
}
